<% layout('layouts/boilerplate') %>

    <div class="row">
        <div class="col-md-8 mx-auto">
            <h1>Edit "<%= route.title %>" Route</h1>
            <form action="/crags/<%=route.crag%>/routes/<%=route._id%>?_method=PUT" method="POST" class="needs-validation" novalidate>
                <div class="form-group mb-1">
                    <label class="form-label" for="title">Title</label>
                    <input class="form-control" type="text" id="title" name="route[title]" value="<%=route.title%>" required>
                </div>
                <div class="form-group mb-1">
                    <label for="rating">Rating</label>
                    <select class="form-control" id="rating" name="route[rating]" required>
                        <% for(let rating of ratings){ %>
                            <option value="<%=rating%>" <%= rating === route.rating ? 'selected' : ''%>><%=rating%></option>
                        <% } %>
                    </select>
                </div>
                <fieldset class="form-group mb-1">
                    <div class="row">
                        <legend class="col-form-label col-sm-2 pt-0">Style</legend>
                        <div class="col-sm-10">
                            <% for(let style of styles){ %>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="route[style]" id="<%=style.toLowerCase()%>" value="<%=style%>" >
                                    <label class="form-check-label" for="<%=style.toLowerCase()%>">
                                        <%=style%>
                                    </label>
                                </div>
                            <% } %>
                        </div>
                    </div>
                </fieldset>
                <div class="form-group row text-center">
                    <div class="col-10 offset-1">
                        <button class="btn btn-success" type="submit">Update Route</button>
                    </div>
                </div>
            </form>
            <div class="row text-center mb-3">
                <div class="col-10 offset-1">
                    <form action="/crags/:id/routes/<%=route._id%>?_method=DELETE" method="POST">
                        <button class="btn btn-danger">Delete Route</button>
                    </form>
                </div>
            </div>
            <div class="row text-center">
                <span class="col-10 offset-1">
                    <a href="/crags/<%=route.crag%>/routes/<%=route._id%>">Go Back</a>
                    <a href="/crags/<%=route.crag%>">All Routes</a>
                </span>
            </div>
        </div>
    </div>
